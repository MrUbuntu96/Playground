<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Asciidoctor 0.1.4">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TinkerPop Upgrade Information</title>
<style>
/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */

/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
@import url(http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.css);
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .mathblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #6c818f; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #444444; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #111111; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.5; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: ff-meta-web-pro-1, ff-meta-web-pro-2, Arial, "Helvetica Neue", sans-serif; font-weight: bold; font-style: normal; color: #465158; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #909ea7; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: "Consolas", "Deja Vu Sans Mono", "Bitstream Vera Sans Mono", monospace; font-weight: normal; color: #444444; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.5; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 0; }
ul.no-bullet, ol.no-bullet { margin-left: 0; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3em; font-weight: bold; }
dl dd { margin-bottom: 0.75em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: black; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #748590; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #748590; }

blockquote, blockquote p { line-height: 1.5; color: #909ea7; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Print styles.  Inlined to avoid required HTTP connection: www.phpied.com/delay-loading-your-print-css/ Credit to Paul Irish and HTML5 Boilerplate (html5boilerplate.com)
*/
.print-only { display: none !important; }

@media print { * { background: transparent !important; color: #000 !important; /* Black prints faster: h5bp.com/s */ box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; /* h5bp.com/t */ }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 0 #dddddd; }
table thead, table tfoot { background: none; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 1px 8px 1px 5px; font-size: 1em; color: #222222; text-align: left; }
table tr th, table tr td { padding: 1px 8px 1px 5px; font-size: 1em; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: none; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.5; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: 0.95em; padding: 0; white-space: nowrap; background-color: #f2f2f2; border: 0 solid #dddddd; -webkit-border-radius: 6px; border-radius: 6px; text-shadow: none; }

pre, pre > code { line-height: 1.2; color: inherit; font-family: "Consolas", "Deja Vu Sans Mono", "Bitstream Vera Sans Mono", monospace; font-weight: normal; }

.keyseq { color: #333333; }

kbd:not(.keyseq) { display: inline-block; color: black; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: black; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

p a > code:hover { color: #373737; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#header { margin-bottom: 2.5em; }
#header > h1 { color: #111111; font-weight: bold; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #909ea7; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }

#toc { border-bottom: 1px solid #dddddd; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }

#toctitle { color: #6c818f; }

@media only screen and (min-width: 768px) { body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: .90em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 6px; border-radius: 6px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }

#content #toctitle { font-weight: bold; font-family: ff-meta-web-pro-1, ff-meta-web-pro-2, Arial, "Helvetica Neue", sans-serif; font-size: 1em; padding-left: 0.125em; }

#footer { max-width: 100%; background-color: black; padding: 1.25em; }

#footer-text { color: white; line-height: 1.35; }

.sect1 { padding-bottom: 1.25em; }

.sect1 + .sect1 { border-top: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #465158; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #3b444a; }

.imageblock, .literalblock, .listingblock, .mathblock, .verseblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .mathblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }

.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #909ea7; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 6px; border-radius: 6px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }

.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 6px; border-radius: 6px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #6c818f; margin-top: 0; line-height: 1.5; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre:not([class]), .listingblock pre:not([class]) { background: #eeeeee; }
.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border-width: 1px; border-style: solid; border-color: #cccccc; -webkit-border-radius: 6px; border-radius: 6px; padding: 0.5em; word-wrap: break-word; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock pre > code, .literalblock pre[class] > code, .listingblock pre > code, .listingblock pre[class] > code { display: block; }
@media only screen { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.76em; } }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.855em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.95em; } }

.listingblock pre.highlight { padding: 0; }
.listingblock pre.highlight > code { padding: 0.5em; }

.listingblock > .content { position: relative; }

.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }

.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.sass:before { content: "sass"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }

table.pyhltable { border: 0; margin-bottom: 0; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }

.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: 0.8125em; color: #748590; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }

table thead th, table tfoot th { font-weight: bold; }

table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 6px; border-radius: 6px; border-top: 0 solid #dddddd; border-bottom: 0 solid #dddddd; }

table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }

table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }

table.tableblock td .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }

th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }

th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }

th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }

th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }

th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }

tbody tr th { display: table-cell; line-height: 1.5; background: none; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: #222222; font-weight: bold; }

td > div.verse { white-space: pre; }

ol { margin-left: 0.25em; }

ul li ol { margin-left: 0; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .75em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 .75em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.qanda > ol > li > p > em:only-child { color: #373737; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }

.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #444444; color: #333333; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum { display: inline-block; color: white !important; background-color: black; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }

.listingblock code { white-space: pre; overflow: auto; overflow-wrap: normal; /* needed for webkit browsers */ }

#toc ul.sectlevel0 > li > a { font-style: normal; font-weight: bold; }

h4 { color: #6c818f; }

.literalblock > .content > pre, .listingblock > .content > pre { -webkit-border-radius: 6px; border-radius: 6px; margin-left: 2em; margin-right: 2em; }

.admonitionblock { margin-left: 2em; margin-right: 2em; }
.admonitionblock > table { border: 1px solid #609060; border-top-width: 1.5em; background-color: #e9ffe9; border-collapse: separate; -webkit-border-radius: 0; border-radius: 0; }
.admonitionblock > table td.icon { padding-top: .5em; padding-bottom: .5em; }
.admonitionblock > table td.content { padding: .5em 1em; color: black; font-size: .9em; border-left: none; }

.sidebarblock { background-color: #e8ecef; border-color: #ccc; }
.sidebarblock > .content > .title { color: #444444; }

table.tableblock.grid-all { border-collapse: collapse; -webkit-border-radius: 0; border-radius: 0; }
table.tableblock.grid-all th.tableblock, table.tableblock.grid-all td.tableblock { border-bottom: 1px solid #aaa; }

#footer { background-color: #465158; padding: 2em; }

#footer-text { color: #eee; font-size: 0.8em; text-align: center; }
</style>
<style>
/* Foundation stylesheet for CodeRay (to match GitHub theme) | MIT License | http://foundation.zurb.com */
table.CodeRay { border-collapse: collapse; padding: 2px; margin-bottom: 0; border: 0; background: transparent; }
table.CodeRay td { padding: 0 .5em; vertical-align: top; }
table.CodeRay td.line-numbers { text-align: right; color: #999; border-right: 1px solid #e5e5e5; padding-left: 0; }
span.line-numbers { border-right: 1px solid #E5E5E5; color: #999; display: inline-block; margin-right: 0.5em; padding-right: 0.5em; }
.CodeRay td.line-numbers strong, .CodeRay span.line-numbers strong { font-weight: normal; }
.CodeRay .debug { color: white !important; background: blue !important; }
.CodeRay .annotation { color: #007; }
.CodeRay .attribute-name { color: #f08; }
.CodeRay .attribute-value { color: #700; }
.CodeRay .binary { color: #509; }
.CodeRay .comment  { color: #999; font-style: italic; }
.CodeRay .char { color: #04D; }
.CodeRay .char .content { color: #04D; }
.CodeRay .char .delimiter { color: #039; }
.CodeRay .class { color: #458; }
.CodeRay .complex { color: #A08; }
.CodeRay .constant { color: teal; }
.CodeRay .color { color: #0A0; }
.CodeRay .class-variable { color: #369; }
.CodeRay .decorator { color: #B0B; }
.CodeRay .definition { color: #099; }
.CodeRay .directive { color: #088; }
.CodeRay .delimiter { color: black; }
.CodeRay .doc { color: #970; }
.CodeRay .doctype { color: #34b; }
.CodeRay .doc-string { color: #D42; }
.CodeRay .escape  { color: #666; }
.CodeRay .entity { color: #800; }
.CodeRay .error { color: #808; }
.CodeRay .exception { color: #C00; }
.CodeRay .filename { color: #099; }
.CodeRay .function { color: #900; }
.CodeRay .global-variable { color: teal; }
.CodeRay .hex { color: #058; }
.CodeRay .integer  { color: #099; }
.CodeRay .include { color: #B44; }
.CodeRay .inline { color: black; }
.CodeRay .inline .inline { background: #ccc; }
.CodeRay .inline .inline .inline { background: #bbb; }
.CodeRay .inline .inline-delimiter { color: #D14; }
.CodeRay .inline-delimiter { color: #D14; }
.CodeRay .important { color: #f00; }
.CodeRay .interpreted { color: #B2B; }
.CodeRay .instance-variable { color: teal; }
.CodeRay .label { color: #970; }
.CodeRay .local-variable { color: #963; }
.CodeRay .octal { color: #40E; }
.CodeRay .predefined { color: #369; }
.CodeRay .preprocessor { color: #579; }
.CodeRay .pseudo-class { color: #00C; }
.CodeRay .predefined-type { color: #074; }
.CodeRay .reserved, .keyword  { color: #000; }
.CodeRay .key { color: #808; }
.CodeRay .key .delimiter { color: #606; }
.CodeRay .key .char { color: #80f; }
.CodeRay .value { color: #088; }
.CodeRay .regexp { background-color: #fff0ff; }
.CodeRay .regexp .content { color: #808; }
.CodeRay .regexp .delimiter { color: #404; }
.CodeRay .regexp .modifier { color: #C2C; }
.CodeRay .regexp .function  { color: #404; font-weight: bold; }
.CodeRay .string { color: #D20; }
.CodeRay .string .string { }
.CodeRay .string .string .string { background-color: #ffd0d0; }
.CodeRay .string .content { color: #D14; }
.CodeRay .string .char { color: #D14; }
.CodeRay .string .delimiter { color: #D14; }
.CodeRay .shell { color: #D14; }
.CodeRay .shell .content { }
.CodeRay .shell .delimiter { color: #D14; }
.CodeRay .symbol { color: #990073; }
.CodeRay .symbol .content { color: #A60; }
.CodeRay .symbol .delimiter { color: #630; }
.CodeRay .tag, .CodeRay .attribute-name { color: #070; }
.CodeRay .tag-special { color: #D70; }
.CodeRay .type { color: #339; }
.CodeRay .variable  { color: #036; }
.CodeRay .insert { background: #afa; }
.CodeRay .delete { background: #faa; }
.CodeRay .change { color: #aaf; background: #007; }
.CodeRay .head { color: #f8f; background: #505; }
.CodeRay .insert .insert { color: #080; }
.CodeRay .delete .delete { color: #800; }
.CodeRay .change .change { color: #66f; }
.CodeRay .head .head { color: #f4f; }

</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_tinkerpop_upgrade_information">TinkerPop Upgrade Information</a></li>
<li><a href="#_tinkerpop_3_2_0">TinkerPop 3.2.0</a></li>
<li>
<ul class="sectlevel1">
<li><a href="#_tinkerpop_3_2_0_2">TinkerPop 3.2.0</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_upgrading_for_users">Upgrading for Users</a></li>
<li>
<ul class="sectlevel4">
<li><a href="#_hadoop_filesystem_variable">Hadoop FileSystem Variable</a></li>
<li><a href="#_hadoop_configurations">Hadoop Configurations</a></li>
<li><a href="#_traversalsideeffects_update">TraversalSideEffects Update</a></li>
<li><a href="#_profilestep_update_and_graphtraversal_api_change">ProfileStep Update and GraphTraversal API Change</a></li>
<li><a href="#_branchstep_bug_fix">BranchStep Bug Fix</a></li>
<li><a href="#_memorycomputekey_and_vertexcomputekey">MemoryComputeKey and VertexComputeKey</a></li>
<li><a href="#_sparkgraphcomputer_and_giraphgraphcomputer_persistence">SparkGraphComputer and GiraphGraphComputer Persistence</a></li>
<li><a href="#_remotegraph">RemoteGraph</a></li>
</ul>
</li>
<li><a href="#_upgrading_for_providers">Upgrading for Providers</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_graph_system_providers">Graph System Providers</a></li>
<li><a href="#_graph_processor_providers">Graph Processor Providers</a></li>
<li><a href="#_graph_language_providers">Graph Language Providers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_tinkerpop_3_1_0">TinkerPop 3.1.0</a></li>
<li>
<ul class="sectlevel1">
<li><a href="#_tinkerpop_3_1_2">TinkerPop 3.1.2</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_upgrading_for_users_2">Upgrading for Users</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_aliasing_sessions">Aliasing Sessions</a></li>
<li><a href="#_remote_console">Remote Console</a></li>
<li><a href="#_console_remote_sessions">Console Remote Sessions</a></li>
<li><a href="#_tinkerpop_archetypes">TinkerPop Archetypes</a></li>
<li><a href="#_session_transaction_management">Session Transaction Management</a></li>
<li><a href="#_session_timeout_setting">Session Timeout Setting</a></li>
</ul>
</li>
<li><a href="#_upgrading_for_providers_2">Upgrading for Providers</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_all_providers">All Providers</a></li>
<li><a href="#_graph_system_providers_2">Graph System Providers</a></li>
<li><a href="#_driver_providers">Driver Providers</a></li>
<li><a href="#_plugin_providers">Plugin Providers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_tinkerpop_3_1_1">TinkerPop 3.1.1</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_upgrading_for_users_3">Upgrading for Users</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_storage_i_o">Storage I/O</a></li>
<li><a href="#_gremlin_server_transaction_management">Gremlin Server Transaction Management</a></li>
<li><a href="#_deprecated_credentialsdblocation">Deprecated credentialsDbLocation</a></li>
<li><a href="#_tinkergraph_supports_any_i_o">TinkerGraph Supports Any I/O</a></li>
<li><a href="#_authenticator_method_deprecation">Authenticator Method Deprecation</a></li>
<li><a href="#_spark_persistence_updates">Spark Persistence Updates</a></li>
<li><a href="#_logging">Logging</a></li>
<li><a href="#_gremlin_server_sandboxing">Gremlin Server Sandboxing</a></li>
<li><a href="#_deprecated_supportsaddproperty">Deprecated supportsAddProperty()</a></li>
</ul>
</li>
<li><a href="#_upgrading_for_providers_3">Upgrading for Providers</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_graph_system_providers_3">Graph System Providers</a></li>
<li><a href="#_graph_database_providers">Graph Database Providers</a></li>
<li><a href="#_graph_processor_providers_2">Graph Processor Providers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_tinkerpop_3_1_0_2">TinkerPop 3.1.0</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_upgrading_for_users_4">Upgrading for Users</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_shading_jackson">Shading Jackson</a></li>
<li><a href="#_partitionstrategy_and_vertexproperty">PartitionStrategy and VertexProperty</a></li>
<li><a href="#_gremlin_server_and_epoll">Gremlin Server and Epoll</a></li>
<li><a href="#_rebindings_deprecated">Rebindings Deprecated</a></li>
<li><a href="#_configurable_driver_channelizer">Configurable Driver Channelizer</a></li>
<li><a href="#_graphson_and_strict_option">GraphSON and Strict Option</a></li>
<li><a href="#_transaction_close_default_behavior">Transaction.close() Default Behavior</a></li>
<li><a href="#_threadlocal_transaction_settings">ThreadLocal Transaction Settings</a></li>
<li><a href="#_hadoop_gremlin">Hadoop-Gremlin</a></li>
<li><a href="#_spark_gremlin">Spark-Gremlin</a></li>
<li><a href="#_tinkergraph_serialization">TinkerGraph Serialization</a></li>
<li><a href="#_deprecation_in_tinkergraph">Deprecation in TinkerGraph</a></li>
<li><a href="#_deprecation_in_gremlin_groovy">Deprecation in Gremlin-Groovy</a></li>
<li><a href="#_gephi_traversal_visualization">Gephi Traversal Visualization</a></li>
<li><a href="#_alterations_to_graphtraversal">Alterations to GraphTraversal</a></li>
<li><a href="#_aliasing_remotes_in_the_console">Aliasing Remotes in the Console</a></li>
</ul>
</li>
<li><a href="#_upgrading_for_providers_4">Upgrading for Providers</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_graph_system_providers_4">Graph System Providers</a></li>
<li><a href="#_driver_providers_2">Driver Providers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_tinkerpop_3_0_0">TinkerPop 3.0.0</a></li>
<li>
<ul class="sectlevel1">
<li><a href="#_tinkerpop_3_0_2">TinkerPop 3.0.2</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_upgrading_for_users_5">Upgrading for Users</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_bulkloadervertexprogram_blvp">BulkLoaderVertexProgram (BLVP)</a></li>
<li><a href="#_tinkergraph">TinkerGraph</a></li>
<li><a href="#_gremlin_driver_and_server">Gremlin Driver and Server</a></li>
</ul>
</li>
<li><a href="#_upgrading_for_providers_5">Upgrading for Providers</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_graph_driver_providers">Graph Driver Providers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_tinkerpop_3_0_1">TinkerPop 3.0.1</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_upgrading_for_users_6">Upgrading for Users</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_gremlin_server">Gremlin Server</a></li>
<li><a href="#_neo4j">Neo4j</a></li>
</ul>
</li>
<li><a href="#_upgrading_for_providers_6">Upgrading for Providers</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_graph_system_providers_5">Graph System Providers</a></li>
<li><a href="#_graph_driver_providers_2">Graph Driver Providers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="imageblock">
<div class="content">
<img src="../images/apache-tinkerpop-logo.png" alt="apache tinkerpop logo" width="500">
</div>
</div>
<h1 id="_tinkerpop_upgrade_information" class="sect0">TinkerPop Upgrade Information</h1>
<div class="paragraph">
<p>This document helps users of TinkerPop to understand the changes that come with each software release.  It outlines
new features, how to resolve breaking changes and other information specific to a release.  This document is useful
to end-users who are building applications on TinkerPop, but it is equally useful to TinkerPop providers, who
build libraries and other systems on the the core APIs and protocols that TinkerPop exposes.</p>
</div>
<div class="paragraph">
<p>These providers include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Graph System Provider</p>
<div class="ulist">
<ul>
<li>
<p>Graph Database Provider</p>
</li>
<li>
<p>Graph Processor Provider</p>
</li>
</ul>
</div>
</li>
<li>
<p>Graph Driver Provider</p>
</li>
<li>
<p>Graph Language Provider</p>
</li>
<li>
<p>Graph Plugin Provider</p>
</li>
</ul>
</div>
<h1 id="_tinkerpop_3_2_0" class="sect0">TinkerPop 3.2.0</h1>
<div class="imageblock">
<div class="content">
<img src="https://raw.githubusercontent.com/apache/incubator-tinkerpop/master/docs/static/images/nine-inch-gremlins.png" alt="nine inch gremlins" width="225">
</div>
</div>
<div class="paragraph">
<p><strong>Nine Inch Gremlins</strong></p>
</div>
<div class="sect1">
<h2 id="_tinkerpop_3_2_0_2">TinkerPop 3.2.0</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Release Date: Release Date: April 8, 2016</strong></p>
</div>
<div class="paragraph">
<p>Please see the <a href="https://github.com/apache/incubator-tinkerpop/blob/3.2.0-incubating/CHANGELOG.asciidoc#tinkerpop-320-release-date-april-8-2016">changelog</a> for a complete list of all the modifications that are part of this release.</p>
</div>
<div class="sect2">
<h3 id="_upgrading_for_users">Upgrading for Users</h3>
<div class="sect4">
<h5 id="_hadoop_filesystem_variable">Hadoop FileSystem Variable</h5>
<div class="paragraph">
<p>The <code>HadoopGremlinPlugin</code> defines two variables: <code>hdfs</code> and <code>fs</code>. The first is a reference to the HDFS <code>FileSystemStorage</code>
and the latter is a reference to the the local <code>FileSystemStorage</code>. Prior to 3.2.x, <code>fs</code> was called <code>local</code>. However,
there was a variable name conflict with <code>Scope.local</code>. As such <code>local</code> is now <code>fs</code>. This issue existed prior to 3.2.x,
but was not realized until this release. Finally, this only effects Gremlin Console users.</p>
</div>
</div>
<div class="sect4">
<h5 id="_hadoop_configurations">Hadoop Configurations</h5>
<div class="paragraph">
<p>Note that <code>gremlin.hadoop.graphInputFormat</code>, <code>gremlin.hadoop.graphOutputFormat</code>, <code>gremlin.spark.graphInputRDD</code>, and
<code>gremlin.spark.graphOuputRDD</code> have all been deprecated. Using them still works, but moving forward, users only need to
leverage <code>gremlin.hadoop.graphReader</code> and <code>gremlin.hadoop.graphWriter</code>. An example properties file snippet is provided
below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code>gremlin.graph=org.apache.tinkerpop.gremlin.hadoop.structure.HadoopGraph
gremlin.hadoop.graphReader=org.apache.tinkerpop.gremlin.hadoop.structure.io.gryo.GryoInputFormat
gremlin.hadoop.graphWriter=org.apache.tinkerpop.gremlin.hadoop.structure.io.gryo.GryoOutputFormat
gremlin.hadoop.jarsInDistributedCache=true
gremlin.hadoop.defaultGraphComputer=org.apache.tinkerpop.gremlin.spark.process.computer.SparkGraphComputer</code></pre>
</div>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1082">TINKERPOP-1082</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-1222">TINKERPOP-1222</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_traversalsideeffects_update">TraversalSideEffects Update</h4>
<div class="paragraph">
<p>There were changes to <code>TraversalSideEffect</code> both at the semantic level and at the API level. Users that have traversals
of the form <code>sideEffect{...}</code> that leverage global side-effects should read the following carefully. If the user&#8217;s traversals do
not use lambda-based side-effect steps (e.g. <code>groupCount("m")</code>), then the changes below will not effect them. Moreover, if user&#8217;s
traversal only uses <code>sideEffect{...}</code> with closure (non-<code>TraversalSideEffect</code>) data references, then the changes below will not effect them.
If the user&#8217;s traversal uses sideEffects in OLTP only, the changes below will not effect them. Finally, providers should not be
effected by the changes save any tests cases.</p>
</div>
<div class="sect4">
<h5 id="_traversalsideeffects_get_api_change">TraversalSideEffects Get API Change</h5>
<div class="paragraph">
<p><code>TraversalSideEffects</code> can now logically operate within a distributed OLAP environment. In order to make this possible,
it is necessary that each side-effect be registered with a reducing <code>BinaryOperator</code>. This binary operator will combine
distributed updates into a single global side-effect at the master traversal. Many of the methods in <code>TraversalSideEffect</code>
have been <code>Deprecated</code>, but they are backwards compatible save that <code>TraversalSideEffects.get()</code> no longer returns an <code>Optional</code>,
but instead throws an <code>IllegalArgumentException</code>. While the <code>Optional</code> semantics could have remained, it was deemed best to
directly return the side-effect value to reduce object creation costs and because all side-effects must be registered apriori,
there is never a reason why an unknown side-effect key would be used. In short:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="java language-java"><span class="comment">// change</span>
traversal.getSideEffects().get(<span class="string"><span class="delimiter">&quot;</span><span class="content">m</span><span class="delimiter">&quot;</span></span>).get()
<span class="comment">// to</span>
traversal.getSideEffects().get(<span class="string"><span class="delimiter">&quot;</span><span class="content">m</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_traversalsideeffects_registration_requirement">TraversalSideEffects Registration Requirement</h5>
<div class="paragraph">
<p>All <code>TraversalSideEffects</code> must be registered upfront. This is because, in OLAP, side-effects map to <code>Memory</code> compute keys
and as such, must be declared prior to the execution of the <code>TraversalVertexProgram</code>. If a user&#8217;s traversal creates a
side-effect mid-traversal, it will fail. The traversal must use <code>GraphTraversalSource.withSideEffect()</code> to declare
the side-effects it will use during its execution lifetime. If the user&#8217;s traversals use standard side-effect Gremlin
steps (e.g. <code>group("m")</code>), then no changes are required.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1192">TINKERPOP-1192</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_traversalsideeffects_add_requirement">TraversalSideEffects Add Requirement</h5>
<div class="paragraph">
<p>In a distributed environment, a side-effect can not be mutated and be expected to exist in the mutated form at the final,
aggregated, master traversal. For instance, if the side-effect "myCount" references a <code>Long</code>, the <code>Long</code> can not be updated
directly via <code>sideEffects.set("myCount", sideEffects.get("myCount") + 1)</code>. Instead, it must rely on the registered reducer
to do the merging and thus, the <code>Step</code> must do <code>sideEffect.add("mySet",1)</code>, where the registered reducer is <code>Operator.sum</code>.
Thus, the below will increment "a". If no operator was provided, then the operator is assumed <code>Operator.assign</code> and the
final result of "a" would be 1. Note that <code>Traverser.sideEffects(key,value)</code> uses <code>TraversalSideEffect.add()</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="groovy language-groovy">gremlin&gt; traversal = g.withSideEffect(<span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>,<span class="integer">0</span>,sum).V().out().sideEffect{<span class="local-variable">it</span>.sideEffects(<span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>,<span class="integer">1</span>)}
==&gt;v[<span class="integer">3</span>]
==&gt;v[<span class="integer">2</span>]
==&gt;v[<span class="integer">4</span>]
==&gt;v[<span class="integer">5</span>]
==&gt;v[<span class="integer">3</span>]
==&gt;v[<span class="integer">3</span>]
gremlin&gt; traversal.getSideEffects().get(<span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>)
==&gt;<span class="integer">6</span>
gremlin&gt; traversal = g.withSideEffect(<span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>,<span class="integer">0</span>).V().out().sideEffect{<span class="local-variable">it</span>.sideEffects(<span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>,<span class="integer">1</span>)}
==&gt;v[<span class="integer">3</span>]
==&gt;v[<span class="integer">2</span>]
==&gt;v[<span class="integer">4</span>]
==&gt;v[<span class="integer">5</span>]
==&gt;v[<span class="integer">3</span>]
==&gt;v[<span class="integer">3</span>]
gremlin&gt; traversal.getSideEffects().get(<span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>)
==&gt;<span class="integer">1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1192">TINKERPOP-1192</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-1166">TINKERPOP-1166</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_profilestep_update_and_graphtraversal_api_change">ProfileStep Update and GraphTraversal API Change</h4>
<div class="paragraph">
<p>The <code>profile()</code>-step has been refactored into 2 steps&#8201;&#8212;&#8201;<code>ProfileStep</code> and <code>ProfileSideEffectStep</code>. Users who previously
used the <code>profile()</code> in conjunction with <code>cap(TraversalMetrics.METRICS_KEY)</code> can now simply omit the cap step. Users who
retrieved <code>TraversalMetrics</code> from the side-effects after iteration can still do so, but will need to specify a side-effect
key when using the <code>profile()</code>. For example, <code>profile("myMetrics")</code>.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-958">TINKERPOP-958</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_branchstep_bug_fix">BranchStep Bug Fix</h4>
<div class="paragraph">
<p>There was a bug in <code>BranchStep</code> that also rears itself in subclass steps such as <code>UnionStep</code> and <code>ChooseStep</code>.
For traversals with branches that have barriers (e.g. <code>count()</code>, <code>max()</code>, <code>groupCount()</code>, etc.), the traversal needs to be updated.
For instance, if a traversal is of the form  <code>g.V().union(out().count(),both().count())</code>, the result is now different
(the bug fix yields a different output). In order to yield the same result, the traversal should be rewritten as
<code>g.V().local(union(out().count(),both().count()))</code>. Note that if a branch does not have a barrier, then no changes are required.
For instance, <code>g.V().union(out(),both())</code> does not need to be updated. Moreover, if the user&#8217;s traversal already used
the <code>local()</code>-form, then no change are required either.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1188">TINKERPOP-1188</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_memorycomputekey_and_vertexcomputekey">MemoryComputeKey and VertexComputeKey</h4>
<div class="paragraph">
<p>Users that have custom <code>VertexProgram</code> implementations will need to change their implementations to support the new
<code>VertexComputeKey</code> and <code>MemoryComputeKey</code> classes. In the <code>VertexPrograms</code> provided by TinkerPop, these changes were trivial,
taking less than 5 minutes to make all the requisite updates.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VertexProgram.getVertexComputeKeys()</code> returns a <code>Set&lt;VertexComputeKey&gt;</code>. No longer a <code>Set&lt;String&gt;</code>.
Use <code>VertexComputeKey.of(String key,boolean transient)</code> to generate a <code>VertexComputeKey</code>.
Transient keys were not supported in the past, so to make the implementation semantically equivalent,
the boolean transient should be false.</p>
</li>
<li>
<p><code>VertexProgram.getMemoryComputeKeys()</code> returns a <code>Set&lt;MemoryComputeKey&gt;</code>. No longer a <code>Set&lt;String&gt;</code>.
Use <code>MemoryComputeKey.of(String key, BinaryOperator reducer, boolean broadcast, boolean transient)</code> to generate a <code>MemoryComputeKey</code>.
Broadcasting and transients were not supported in the past so to make the implementation semantically equivalent,
the boolean broadcast should be true and the boolean transient should be false.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An example migration looks as follows. What might currently look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code>public Set&lt;String&gt; getMemoryComputeKeys() {
   return new HashSet&lt;&gt;(Arrays.asList("a","b","c"))
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Should now look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code>public Set&lt;MemoryComputeKey&gt; getMemoryComputeKeys() {
  return new HashSet&lt;&gt;(Arrays.asList(
    MemoryComputeKey.of("a", Operator.and, true, false),
    MemoryComputeKey.of("b", Operator.sum, true, false),
    MemoryComputeKey.of("c", Operator.or, true, false)))
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>A similar patterns should also be used for <code>VertexProgram.getVertexComputeKeys()</code>.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1162">TINKERPOP-1162</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_sparkgraphcomputer_and_giraphgraphcomputer_persistence">SparkGraphComputer and GiraphGraphComputer Persistence</h4>
<div class="paragraph">
<p>The <code>MapReduce</code>-based steps in <code>TraversalVertexProgram</code> have been removed and replaced using a new <code>Memory</code>-reduction model.
<code>MapReduce</code> jobs always created a persistence footprint, e.g. in HDFS. <code>Memory</code> data was never persisted to HDFS.
As such, there will be no data on the disk that is accessible. For instance, there is no more <code>~reducing</code>, <code>~traversers</code>,
and specially named side-effects such as <code>m</code> from a <code>groupCount('m')</code>. The data is still accessible via <code>ComputerResult.memory()</code>,
it simply does not have a corresponding on-disk representation.</p>
</div>
</div>
<div class="sect3">
<h4 id="_remotegraph">RemoteGraph</h4>
<div class="paragraph">
<p><code>RemoteGraph</code> is a lightweight <code>Graph</code> implementation that acts as a proxy for sending traversals to Gremlin Server for
remote execution. It is an interesting alternative to the other methods for connecting to Gremlin Server in that all
other methods involved construction of a <code>String</code> representation of the <code>Traversal</code> which is then submitted as a script
to Gremlin Server (via driver or REST).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="groovy language-groovy">gremlin&gt; graph = RemoteGraph.open(<span class="string"><span class="delimiter">'</span><span class="content">conf/remote-graph.properties</span><span class="delimiter">'</span></span>)
==&gt;remotegraph[DriverServerConnection-localhost/<span class="float">127.0</span><span class="float">.0</span><span class="float">.1</span>:<span class="integer">8182</span> [graph=<span class="string"><span class="delimiter">'</span><span class="content">graph]]</span></span><span class="error">
</span>gremlin&gt; g = graph.traversal()
==&gt;graphtraversalsource[remotegraph[DriverServerConnection-localhost/<span class="float">127.0</span><span class="float">.0</span><span class="float">.1</span>:<span class="integer">8182</span> [graph=<span class="string"><span class="delimiter">'</span><span class="content">graph]], standard]</span></span><span class="error">
</span>gremlin&gt; g.V().valueMap(<span class="predefined-constant">true</span>)
==&gt;[<span class="key">name</span>:[marko], <span class="key">label</span>:person, <span class="key">id</span>:<span class="integer">1</span>, <span class="key">age</span>:[<span class="integer">29</span>]]
==&gt;[<span class="key">name</span>:[vadas], <span class="key">label</span>:person, <span class="key">id</span>:<span class="integer">2</span>, <span class="key">age</span>:[<span class="integer">27</span>]]
==&gt;[<span class="key">name</span>:[lop], <span class="key">label</span>:software, <span class="key">id</span>:<span class="integer">3</span>, <span class="key">lang</span>:[java]]
==&gt;[<span class="key">name</span>:[josh], <span class="key">label</span>:person, <span class="key">id</span>:<span class="integer">4</span>, <span class="key">age</span>:[<span class="integer">32</span>]]
==&gt;[<span class="key">name</span>:[ripple], <span class="key">label</span>:software, <span class="key">id</span>:<span class="integer">5</span>, <span class="key">lang</span>:[java]]
==&gt;[<span class="key">name</span>:[peter], <span class="key">label</span>:person, <span class="key">id</span>:<span class="integer">6</span>, <span class="key">age</span>:[<span class="integer">35</span>]]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that <code>g.V().valueMap(true)</code> is executing in Gremlin Server and not locally in the console.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-575">TINKERPOP-575</a>,
<a href="http://tinkerpop.apache.org/docs/3.2.0-incubating/reference/#connecting-via-remotegraph">Reference Documentation - Remote Graph</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_upgrading_for_providers">Upgrading for Providers</h3>
<div class="sect3">
<h4 id="_graph_system_providers">Graph System Providers</h4>
<div class="sect4">
<h5 id="_graphstep_compilation_requirement">GraphStep Compilation Requirement</h5>
<div class="paragraph">
<p>OLTP graph providers that have a custom <code>GraphStep</code> implementation should ensure that <code>g.V().hasId(x)</code> and <code>g.V(x)</code> compile
to the same representation. This ensures a consistent user experience around random access of elements based on ids
(as opposed to potentially the former doing a linear scan). A static helper method called <code>GraphStep.processHasContainerIds()</code>
has been added. <code>TinkerGraphStepStrategy</code> was updated as such:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code>((HasContainerHolder) currentStep).getHasContainers().forEach(tinkerGraphStep::addHasContainer);</code></pre>
</div>
</div>
<div class="paragraph">
<p>is now</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code>((HasContainerHolder) currentStep).getHasContainers().forEach(hasContainer -&gt; {
  if (!GraphStep.processHasContainerIds(tinkerGraphStep, hasContainer))
    tinkerGraphStep.addHasContainer(hasContainer);
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1219">TINKERPOP-1219</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_step_api_update">Step API Update</h5>
<div class="paragraph">
<p>The <code>Step</code> interface is fundamental to Gremlin. <code>Step.processNextStart()</code> and <code>Step.next()</code> both returned <code>Traverser&lt;E&gt;</code>.
We had so many <code>Traverser.asAdmin()</code> and direct typecast calls throughout (especially in <code>TraversalVertexProgram</code>) that
it was deemed prudent to have <code>Step.processNextStart()</code> and <code>Step.next()</code> return <code>Traverser.Admin&lt;E&gt;</code>. Moreover it makes
sense as this is internal logic where <code>Admins</code> are always needed. Providers with their own step definitions will simply
need to change the method signatures of <code>Step.processNextStart()</code> and <code>Step.next()</code>. No logic update is required&#8201;&#8212;&#8201;save
that <code>asAdmin()</code> can be safely removed if used. Also, <code>Step.addStart()</code> and <code>Step.addStarts()</code> take <code>Traverser.Admin&lt;S&gt;</code>
and <code>Iterator&lt;Traverser.Admin&lt;S&gt;&gt;</code>, respectively.</p>
</div>
</div>
<div class="sect4">
<h5 id="_traversal_api_update">Traversal API Update</h5>
<div class="paragraph">
<p>The way in which <code>TraverserRequirements</code> are calculated has been changed (for the better). The ramification is that post
compilation requirement additions no longer make sense and should not be allowed. To enforce this,
<code>Traversal.addTraverserRequirement()</code> method has been removed from the interface. Moreover, providers/users should never be able
to add requirements manually (this should all be inferred from the end compilation). However, if need be, there is always
<code>RequirementStrategy</code> which will allow the provider to add a requirement at strategy application time
(though again, there should not be a reason to do so).</p>
</div>
</div>
<div class="sect4">
<h5 id="_comparatorholder_api_change">ComparatorHolder API Change</h5>
<div class="paragraph">
<p>Providers that either have their own <code>ComparatorHolder</code> implementation or reason on <code>OrderXXXStep</code> will need to update their code.
<code>ComparatorHolder</code> now returns <code>List&lt;Pair&lt;Traversal,Comparator&gt;&gt;</code>. This has greatly reduced the complexity of comparison-based
steps like <code>OrderXXXStep</code>. However, its a breaking API change that is trivial to update to, just some awareness is required.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1209">TINKERPOP-1209</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_graphcomputer_semantics_and_api">GraphComputer Semantics and API</h5>
<div class="paragraph">
<p>Providers that have a custom <code>GraphComputer</code> implementation will have a lot to handle. Note that if the graph system
simply uses <code>SparkGraphComputer</code> or <code>GiraphGraphComputer</code> provided by TinkerPop, then no updates are required. This
only effects providers that have their own custom <code>GraphComputer</code> implementations.</p>
</div>
<div class="paragraph">
<p><code>Memory</code> updates:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Any <code>BinaryOperator</code> can be used for reduction and is made explicit in the <code>MemoryComputeKey</code>.</p>
</li>
<li>
<p><code>MemoryComputeKeys</code> can be marked transient and must be removed from the resultant <code>ComputerResult.memory()</code>.</p>
</li>
<li>
<p><code>MemoryComputeKeys</code> can be specified to not broadcast and thus, must not be available to workers to read in <code>VertexProgram.execute()</code>.</p>
</li>
<li>
<p>The <code>Memory</code> API has been changed. No more <code>incr()</code>, <code>and()</code>, etc. Now its just <code>set()</code> (setup/terminate) and <code>add()</code> (execute).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>VertexProgram</code> updates:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VertexComputeKeys</code> can be marked transient and must be removed from the resultant <code>ComputerResult.graph()</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1166">TINKERPOP-1166</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-1164">TINKERPOP-1164</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-951">TINKERPOP-951</a></p>
</div>
<div class="paragraph">
<p>Operational semantic test cases have been added to <code>GraphComputerTest</code> to ensure that all the above are implemented correctly.</p>
</div>
</div>
<div class="sect4">
<h5 id="_barrier_step_updates">Barrier Step Updates</h5>
<div class="paragraph">
<p>The <code>Barrier</code> interface use to simply be a marker interface. Now it has methods and it is the primary means by which
distributed steps across an OLAP job are aggregated and distributed. It is unlikely that <code>Barrier</code> was ever used
directly by a provider&#8217;s custom step. Instead, a provider most likely extended <code>SupplyingBarrierStep</code>, <code>CollectingBarrierStep</code>,
and/or <code>ReducingBarrierStep</code>.</p>
</div>
<div class="paragraph">
<p>Providers that have custom extensions to these steps or that use <code>Barrier</code> directly will need to adjust their implementation slightly to
accommodate a new API that reflects the <code>Memory</code> updates above. This should be a simple change. Note that <code>FinalGet</code>
no longer exists and such post-reduction processing is handled by the reducing step (via the new <code>Generating</code> interface).</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1164">TINKERPOP-1164</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_performance_tests">Performance Tests</h5>
<div class="paragraph">
<p>The <code>ProcessPerformanceSuite</code> and <code>TraversalPerformanceTest</code> have been deprecated.  They are still available, but going forward,
providers should implement their own performance tests and not rely on the built-in JUnit benchmark-based performance test suit.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_graph_processor_providers">Graph Processor Providers</h4>
<div class="sect4">
<h5 id="_graphfilter_and_graphcomputer">GraphFilter and GraphComputer</h5>
<div class="paragraph">
<p>The <code>GraphComputer</code> API has changed with the addition of <code>GraphComputer.vertices(Traversal)</code> and <code>GraphComputer.edges(Traversal)</code>.
These methods construct a <code>GraphFilter</code> object which is also new to TinkerPop 3.2.0. <code>GraphFilter</code> is a "push-down predicate"
used to selectively retrieve subgraphs of the underlying graph to be OLAP processed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the graph system provider relies on an existing <code>GraphComputer</code> implementations such as <code>SparkGraphComputer</code> and/or <code>GiraphGraphComputer</code>,
then there is no immediate action required on their part to remain TinkerPop-compliant. However, they may wish to update
their <code>InputFormat</code> or <code>InputRDD</code> implementation to be <code>GraphFilterAware</code> and handle the <code>GraphFilter</code> filtering at the disk/database
level. It is advisable to do so in order to reduce OLAP load times and memory/GC usage.</p>
</li>
<li>
<p>If the graph system provider has their own <code>GraphComputer</code> implementation, then they should implement the two new methods
and ensure that <code>GraphFilter</code> is processed correctly. There is a new test case called <code>GraphComputerTest.shouldSupportGraphFilter()</code>
which ensures the semantics of <code>GraphFilter</code> are handled correctly. For a "quick and easy" way to move forward, look to
<code>GraphFilterInputFormat</code> as a way of wrapping an existing <code>InputFormat</code> to do filtering prior to <code>VertexProgram</code> or <code>MapReduce</code>
execution.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
To quickly move forward, the <code>GraphComputer</code> implementation can simply set <code>GraphComputer.Features.supportsGraphFilter()</code>
to <code>false</code> and ensure that <code>GraphComputer.vertices()</code> and <code>GraphComputer.edges()</code> throws <code>GraphComputer.Exceptions.graphFilterNotSupported()</code>.
This is not recommended as its best to support <code>GraphFilter</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-962">TINKERPOP-962</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_job_chaining_and_graphcomputer">Job Chaining and GraphComputer</h5>
<div class="paragraph">
<p>TinkerPop 3.2.0 has integrated <code>VertexPrograms</code> into <code>GraphTraversal</code>. This means, that a single traversal can compile to multiple
<code>GraphComputer</code> OLAP jobs. This requires that <code>ComputeResults</code> be chainable. There was never any explicit tests to verify if a
provider&#8217;s <code>GraphComputer</code> could be chained, but now there are. Given a reasonable implementation, it is likely that no changes
are required of the provider. However, to ensure the implementation is "reasonable" <code>GraphComputerTests</code> have been added.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For providers that support their own <code>GraphComputer</code> implementation, note that there is a new <code>GraphComputerTest.shouldSupportJobChaining()</code>.
This tests verifies that the <code>ComputerResult</code> output of one job can be fed into the input of a subsequent job. Only linear chains are tested/required
currently. In the future, branching DAGs may be required.</p>
</li>
<li>
<p>For providers that support their own <code>GraphComputer</code> implementation, note that there is a new <code>GraphComputerTest.shouldSupportPreExistingComputeKeys()</code>.
When chaining OLAP jobs together, if an OLAP job requires the compute keys of a previous OLAP job, then the existing compute keys must be accessible.
A simple 2 line change to <code>SparkGraphComputer</code> and <code>TinkerGraphComputer</code> solved this for TinkerPop. <code>GiraphGraphComputer</code> did not need an update as
this feature was already naturally supported.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-570">TINKERPOP-570</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_graph_language_providers">Graph Language Providers</h4>
<div class="sect4">
<h5 id="_scripttraversal">ScriptTraversal</h5>
<div class="paragraph">
<p>Providers that have custom Gremlin language implementations (e.g. Gremlin-Scala), there is a new class called <code>ScriptTraversal</code>
which will handle script-based processing of traversals. The entire <code>GroovyXXXTest</code>-suite was updated to use this new class.
The previous <code>TraversalScriptHelper</code> class has been deprecated so immediate upgrading is not required, but do look into
<code>ScriptTraversal</code> as TinkerPop will be using it as a way to serialize "String-based traversals" over the network moving forward.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1154">TINKERPOP-1154</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_bymodulating_and_custom_steps">ByModulating and Custom Steps</h5>
<div class="paragraph">
<p>If the provider has custom steps that leverage <code>by()</code>-modulation, those will now need to implement <code>ByModulating</code>.
Most of the methods in <code>ByModulating</code> are <code>default</code> and, for most situations, only <code>ByModulating.modulateBy(Traversal)</code>
needs to be implemented. Note that this method&#8217;s body will most like be identical the custom step&#8217;s already existing
<code>TraversalParent.addLocalChild()</code>. It is recommended that the custom step not use <code>TraversalParent.addLocalChild()</code>
as this method may be deprecated in a future release. Instead, barring any complex usages, simply rename the
<code>CustomStep.addLocalChild(Traversal)</code> to <code>CustomStep.modulateBy(Traversal)</code>.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1153">TINKERPOP-1153</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_traversalengine_deprecation_and_graphprovider">TraversalEngine Deprecation and GraphProvider</h5>
<div class="paragraph">
<p>The <code>TraversalSource</code> infrastructure has been completely rewritten. Fortunately for users, their code is backwards compatible.
Unfortunately for graph system providers, a few tweaks to their implementation are in order.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the graph system supports more than <code>Graph.compute()</code>, then implement <code>GraphProvider.getGraphComputer()</code>.</p>
</li>
<li>
<p>For custom <code>TraversalStrategy</code> implementations, change <code>traverser.getEngine().isGraphComputer()</code> to <code>TraversalHelper.onGraphComputer(Traversal)</code>.</p>
</li>
<li>
<p>For custom <code>Steps</code>, change <code>implements EngineDependent</code> to <code>implements GraphComputing</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-971">TINKERPOP-971</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<h1 id="_tinkerpop_3_1_0" class="sect0">TinkerPop 3.1.0</h1>
<div class="imageblock">
<div class="content">
<img src="https://raw.githubusercontent.com/apache/incubator-tinkerpop/master/docs/static/images/gremlin-gangster.png" alt="gremlin gangster" width="225">
</div>
</div>
<div class="paragraph">
<p><strong>A 187 On The Undercover Gremlinz</strong></p>
</div>
<div class="sect1">
<h2 id="_tinkerpop_3_1_2">TinkerPop 3.1.2</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Release Date: April 8, 2016</strong></p>
</div>
<div class="paragraph">
<p>Please see the <a href="https://github.com/apache/incubator-tinkerpop/blob/3.1.2-incubating/CHANGELOG.asciidoc#tinkerpop-312-release-date-april-8-2016">changelog</a> for a complete list of all the modifications that are part of this release.</p>
</div>
<div class="sect2">
<h3 id="_upgrading_for_users_2">Upgrading for Users</h3>
<div class="sect3">
<h4 id="_aliasing_sessions">Aliasing Sessions</h4>
<div class="paragraph">
<p>Calls to <code>SessionedClient.alias()</code> used to throw <code>UnsupportedOperationException</code> and it was therefore not possible to
use that capability with a session. That method is now properly implemented and aliasing is allowed.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1096">TINKERPOP-1096</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_remote_console">Remote Console</h4>
<div class="paragraph">
<p>The <code>:remote console</code> command provides a way to avoid having to prefix the <code>:&gt;</code> command to scripts when remoting. This
mode of console usage can be convenient when working exclusively with a remote like Gremlin Server and there is only a
desire to view the returned data and not to actually work with it locally in any way.</p>
</div>
<div class="paragraph">
<p>See: <a href="http://tinkerpop.apache.org/docs/3.1.2-incubating/reference/#console-remote-console">Reference Documentation - Remote Console</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_console_remote_sessions">Console Remote Sessions</h4>
<div class="paragraph">
<p>The <code>:remote tinkerpop.server</code> command now allows for a "session" argument to be passed to <code>connect</code>. This argument,
tells the remote to configure it with a Gremlin Server session. In this way, the console can act as a window to script
exception on the server and behave more like a standard "local" console when it comes to script execution.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1097">TINKERPOP-1097</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_tinkerpop_archetypes">TinkerPop Archetypes</h4>
<div class="paragraph">
<p>TinkerPop now offers <a href="https://maven.apache.org/guides/introduction/introduction-to-archetypes.html">Maven archetypes</a>,
which provide example project templates to quickly get started with TinkerPop. The available archetypes are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>gremlin-archetype-server</code> - An example project that demonstrates the basic structure of a Gremlin Server project,
how to connect with the Gremlin Driver, and how to embed Gremlin Server in a testing framework.</p>
</li>
<li>
<p><code>gremlin-archetype-tinkergraph</code> - A basic example of how to structure a TinkerPop project with Maven.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1085">TINKERPOP-1085</a>,
<a href="http://tinkerpop.apache.org/docs/3.1.2-incubating/reference/#gremlin-archetypes">Reference Documentation - Archetypes</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_session_transaction_management">Session Transaction Management</h4>
<div class="paragraph">
<p>When connecting to a session with <code>gremlin-driver</code>, it is now possible to configure the <code>Client</code> instance so as to
request that the server manage the transaction for each requests.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="java language-java">Cluster cluster = Cluster.open();
Client client = cluster.connect(<span class="string"><span class="delimiter">&quot;</span><span class="content">sessionName</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">true</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Specifying <code>true</code> to the <code>connect()</code> method signifies that the <code>client</code> should make each request as one encapsulated
in a transaction. With this configuration of <code>client</code> there is no need to close a transaction manually.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1039">TINKERPOP-1039</a>,
<a href="http://tinkerpop.apache.org/docs/3.1.2-incubating/reference/#sessions">Reference Documentation - Considering Sessions</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_session_timeout_setting">Session Timeout Setting</h4>
<div class="paragraph">
<p>The <code>gremlin-driver</code> now has a setting called <code>maxWaitForSessionClose</code> that allows control of how long it will wait for
an in-session connection to respond to a close request before it simply times-out and moves on.  When that happens,
the server will either eventually close the connection via at session expiration or at the time of shutdown.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1160">TINKERPOP-1160</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_upgrading_for_providers_2">Upgrading for Providers</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
It is recommended that providers also review all the upgrade instructions specified for users. Many of the
changes there may prove important for the provider&#8217;s implementation.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_all_providers">All Providers</h4>
<div class="sect4">
<h5 id="_provider_documentation">Provider Documentation</h5>
<div class="paragraph">
<p>Documentation related to the lower-level APIs used by a provider, that was formerly in the reference documentation,
has been moved to its own documentation set that is now referred to as the
<a href="http://tinkerpop.apache.org/docs/3.2.0-incubating/dev/provider/">Provider Documentation</a>.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-937">TINKERPOP-937</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_graph_system_providers_2">Graph System Providers</h4>
<div class="sect4">
<h5 id="_graphprovider_clear_semantics">GraphProvider.clear() Semantics</h5>
<div class="paragraph">
<p>The semantics of the various <code>clear()</code> methods on <code>GraphProvider</code> didn&#8217;t really change, but it would be worth reviewing
their implementations to ensure that implementations can be called successfully in an idempotent fashion. Multiple
calls to <code>clear()</code> may occur for a single test on the same <code>Graph</code> instance, as <code>3.1.1-incubating</code> introduced an
automated method for clearing graphs at the end of a test and some tests call <code>clear()</code> manually.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1146">TINKERPOP-1146</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_driver_providers">Driver Providers</h4>
<div class="sect4">
<h5 id="_session_transaction_management_2">Session Transaction Management</h5>
<div class="paragraph">
<p>Up until now transaction management has been a feature of sessionless requests only, but the new <code>manageTransaction</code>
request argument for the <a href="http://tinkerpop.apache.org/docs/3.1.2-incubating/reference/#_session_opprocessor">Session OpProcessor</a>
changes that.  Session-based requests can now pass this boolean value on each request to signal to
Gremlin Server that it should attempt to commit (or rollback) the transaction at the end of the request. By default,
this value as <code>false</code>, so there is no change to the protocol for this feature.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1039">TINKERPOP-1039</a>,
<a href="http://tinkerpop.apache.org/docs/3.1.2-incubating/reference/#sessions">Reference Documentation - Considering Sessions</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_scriptevaltimeout_override">scriptEvalTimeout Override</h5>
<div class="paragraph">
<p>The Gremlin Server protocol now allows the passing of <code>scriptEvaluationTimeout</code> as an argument to the <code>SessionOpProcessor</code>
and the <code>StandardOpProcessor</code>. This value will override the setting of the same name provided in the Gremlin Server
configuration file on a per request basis.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_plugin_providers">Plugin Providers</h4>
<div class="sect4">
<h5 id="_remoteacceptor_allowremoteconsole">RemoteAcceptor allowRemoteConsole</h5>
<div class="paragraph">
<p>The <code>RemoteAcceptor</code> now has a new method called <code>allowRemoteConsole()</code>.  It has a default implementation that
returns <code>false</code> and should thus be a non-breaking change for current implementations.  This value should only be set
to <code>true</code> if the implementation expects the user to always use <code>:&gt;</code> to interact with it.  For example, the
<code>tinkerpop.server</code> plugin expects all user interaction through <code>:&gt;</code>, where the line is sent to Gremlin Server.  In
that case, that <code>RemoteAcceptor</code> implementation can return <code>true</code>.  On the other hand, the <code>tinkerpop.gephi</code> plugin,
expects that the user sometimes call <code>:&gt;</code> and sometimes work with local evaluation as well. It interacts with the
local variable bindings in the console itself. For <code>tinkerpop.gephi</code>, this method returns <code>false</code>.</p>
</div>
<div class="paragraph">
<p>See: <a href="http://tinkerpop.apache.org/docs/3.1.2-incubating/reference/#console-remote-console">Reference Documentation - Remote Console</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tinkerpop_3_1_1">TinkerPop 3.1.1</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Release Date: February 8, 2016</strong></p>
</div>
<div class="paragraph">
<p>Please see the <a href="https://github.com/apache/incubator-tinkerpop/blob/3.1.1-incubating/CHANGELOG.asciidoc#tinkerpop-311-release-date-february-8-2016">changelog</a> for a complete list of all the modifications that are part of this release.</p>
</div>
<div class="sect2">
<h3 id="_upgrading_for_users_3">Upgrading for Users</h3>
<div class="sect3">
<h4 id="_storage_i_o">Storage I/O</h4>
<div class="paragraph">
<p>The <code>gremlin-core</code> io-package now has a <code>Storage</code> interface. The methods that were available via <code>hdfs</code>
(e.g. <code>rm()</code>, <code>ls()</code>, <code>head()</code>, etc.) are now part of <code>Storage</code>. Both HDFS and Spark implement <code>Storage</code> via
<code>FileSystemStorage</code> and <code>SparkContextStorage</code>, respectively.  <code>SparkContextStorage</code> adds support for interacting with
persisted RDDs in the Spark cache.</p>
</div>
<div class="paragraph">
<p>This update changed a few of the file handling methods. As it stands, these changes only effect manual Gremlin Console
usage as HDFS support was previously provided via Groovy meta-programing. Thus, these are not "code-based" breaking changes.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>hdfs.rmr()</code> no longer exists. <code>hdfs.rm()</code> is now recursive. Simply change all references to <code>rmr()</code> to <code>rm()</code> for identical behavior.</p>
</li>
<li>
<p><code>hdfs.head(location,lines,writableClass)</code> no longer exists.</p>
<div class="ulist">
<ul>
<li>
<p>For graph locations, use <code>hdfs.head(location,writableClass,lines)</code>.</p>
</li>
<li>
<p>For memory locations, use <code>hdfs.head(location,memoryKey,writableClass,lines)</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>hdfs.head(...,ObjectWritable)</code> no longer exists. Use <code>SequenceFileInputFormat</code> as an input format is the parsing class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Given that HDFS (and now Spark) interactions are possible via <code>Storage</code> and no longer via Groovy meta-programming,
developers can use these <code>Storage</code> implementations in their Java code. In fact, <code>Storage</code> has greatly simplified
complex file/RDD operations in both <code>GiraphGraphComputer</code> and <code>SparkGraphComputer</code>.</p>
</div>
<div class="paragraph">
<p>Finally, note that the following low-level/internal classes have been removed: <code>HadoopLoader</code> and <code>HDFSTools</code>.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1033">TINKERPOP-1033</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-1023">TINKERPOP-1023</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_gremlin_server_transaction_management">Gremlin Server Transaction Management</h4>
<div class="paragraph">
<p>Gremlin Server now has a setting called <code>strictTransactionManagement</code>, which forces the user to pass
<code>aliases</code> for all requests. The aliases are then used to determine which graphs will have their transactions closed
for that request. The alternative is to continue with default operations where the transactions of all configured
graphs will be closed. It is likely that <code>strictTransactionManagement</code> (which is <code>false</code> by default so as to be
backward compatible with previous versions) will become the future standard mode of operation for Gremlin Server as
it provides a more efficient method for transaction management.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-930">TINKERPOP-930</a>,
<a href="http://tinkerpop.apache.org/docs/3.1.1-incubating/#considering-transactions">Reference Documentation - Considering Transactions</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_deprecated_credentialsdblocation">Deprecated credentialsDbLocation</h4>
<div class="paragraph">
<p>The <code>credentialsDbLocation</code> setting was a TinkerGraph only configuration option to the <code>SimpleAuthenticator</code> for
Gremlin Server.  It provided the file system location to a "credentials graph" that TinkerGraph would read from a
Gryo file at that spot.  This setting was only required because TinkerGraph did not support file persistence at the
time that <code>SimpleAuthenticator</code> was created.</p>
</div>
<div class="paragraph">
<p>As of 3.1.0-incubating, TinkerGraph received a limited persistence feature that allowed the "credentials graph"
location to be specified in the TinkerGraph properties file via <code>gremlin.tinkergraph.graphLocation</code> and as such the
need for <code>credentialsDbLocation</code> was eliminated.</p>
</div>
<div class="paragraph">
<p>This deprecation is not a breaking change, however users should be encouraged to convert their configurations to use
the <code>gremlin.tinkergraph.graphLocation</code> as soon as possible, as the deprecated setting will be removed in a future
release.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-981">TINKERPOP-981</a>,
<a href="http://tinkerpop.apache.org/docs/3.1.1-incubating/#_security">Reference Documentation - Gremlin Server Security</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_tinkergraph_supports_any_i_o">TinkerGraph Supports Any I/O</h4>
<div class="paragraph">
<p>TinkerGraph&#8217;s <em>gremlin.tinkergraph.graphLocation</em> configuration setting can now take a fully qualified class name
of a <code>Io.Builder</code> implementation, which means that custom IO implementations can be used to read and write
TinkerGraph instances.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-886">TINKERPOP-886</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_authenticator_method_deprecation">Authenticator Method Deprecation</h4>
<div class="paragraph">
<p>For users who have a custom <code>Authenticator</code> implementation for Gremlin Server, there will be a new method present:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="java language-java"><span class="directive">public</span> <span class="keyword">default</span> SaslNegotiator newSaslNegotiator(<span class="directive">final</span> <span class="predefined-type">InetAddress</span> remoteAddress)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Implementation of this method is now preferred over the old method with the same name that has no arguments. The old
method has been deprecated.  This is a non-breaking change as the new method has a default implementation that simply
calls the old deprecated method.  In this way, existing <code>Authenticator</code> implementations will still work.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-995">TINKERPOP-995</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_spark_persistence_updates">Spark Persistence Updates</h4>
<div class="paragraph">
<p>Spark RDD persistence is now much safer with a "job server" system that ensures that persisted RDDs are not garbage
collected by Spark. With this, the user is provider a <code>spark</code> object that enables them to manage persisted RDDs
much like the <code>hdfs</code> object is used for managing files in HDFS.</p>
</div>
<div class="paragraph">
<p>Finally, <code>InputRDD</code> instance no longer need a <code>reduceByKey()</code> postfix as view merges happen prior to writing the
<code>graphRDD</code>. Note that a <code>reduceByKey()</code> postfix will not cause problems if continued, it is simply inefficient
and no longer required.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1023">TINKERPOP-1023</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-1027">TINKERPOP-1027</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_logging">Logging</h4>
<div class="paragraph">
<p>Logging to Gremlin Server and Gremlin Console can now be consistently controlled by the <code>log4j-server.properties</code>
and <code>log4j-console.properties</code> which are in the respective <code>conf/</code> directories of the packaged distributions.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-859">TINKERPOP-859</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_gremlin_server_sandboxing">Gremlin Server Sandboxing</h4>
<div class="paragraph">
<p>A number of improvements were made to the sandboxing feature of Gremlin Server (more specifically the
<code>GremlinGroovyScriptEngine</code>).  A new base class for sandboxing was introduce with the <code>AbstractSandboxExtension</code>,
which makes it a bit easier to build white list style sandboxes. A usable implementation of this was also supplied
with the <code>FileSandboxExtension</code>, which takes a configuration file containing a white list of accessible methods and
variables that can be used in scripts. Note that the original <code>SandboxExtension</code> has been deprecated in favor of
the <code>AbsstractSandboxExtension</code> or extending directly from Groovy&#8217;s <code>TypeCheckingDSL</code>.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-891">TINKERPOP-891</a>,
<a href="http://tinkerpop.apache.org/docs/3.1.0-incubating/#script-execution">Reference Documentation - Script Execution</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_deprecated_supportsaddproperty">Deprecated supportsAddProperty()</h4>
<div class="paragraph">
<p>It was realized that <code>VertexPropertyFeatures.supportsAddProperty()</code> was effectively a duplicate of
<code>VertexFeatures.supportsMetaProperties()</code>.  As a result, <code>supportsAddProperty()</code> was deprecated in favor of the other.
If using <code>supportsAddProperty()</code>, simply modify that code to instead utilize <code>supportsMetaProperties()</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_upgrading_for_providers_3">Upgrading for Providers</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
It is recommended that providers also review all the upgrade instructions specified for users. Many of the
changes there may prove important for the provider&#8217;s implementation.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_graph_system_providers_3">Graph System Providers</h4>
<div class="sect4">
<h5 id="_data_types_in_tests">Data Types in Tests</h5>
<div class="paragraph">
<p>There were a number of fixes related to usage of appropriate types in the test suite. There were cases where tests
were mixing types, such that a single property key might have two different values.  This mixed typing caused problems
for some graphs and wasn&#8217;t really something TinkerPop was looking to explicitly enforce as a rule of implementing the
interfaces.</p>
</div>
<div class="paragraph">
<p>While the changes should not have been breaking, providers should be aware that improved consistencies in the tests
may present opportunities for test failures.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-984">TINKERPOP-984</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-990">TINKERPOP-990</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-1000">TINKERPOP-1000</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_graph_database_providers">Graph Database Providers</h4>
<div class="sect4">
<h5 id="_custom_classresolver">Custom ClassResolver</h5>
<div class="paragraph">
<p>For providers who have built custom serializers in Gryo, there is a new feature open that can be considered.  A
<code>GryoMapper</code> can now take a custom Kryo <code>ClassResolver</code>, which means that custom types can be coerced to other types
during serialization (e.g. a custom identifier could be serialized as a <code>HashMap</code>).  The advantage to taking this
approach is that users will not need to have the provider&#8217;s serializers on the client side.  They will only need to
exist on the server (presuming that the a type is coerced to a type available on the client, of course).  The downside
is that serialization is then no longer a two way street. For example, a custom <code>ClassResolver</code> that coerced a
custom identifier to <code>HashMap</code> would let the client work with the identifier as a <code>HashMap</code>, but the client would then
have to send that identifier back to the server as a <code>HashMap</code> where it would be recognized as a <code>HashMap</code> (not an
identifier).</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-1064">TINKERPOP-1064</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_feature_consistency">Feature Consistency</h5>
<div class="paragraph">
<p>There were a number of corrections made around the consistency of <code>Features</code> and how they were applied in tests.
Corrections fell into two groups of changes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Bugs in the how <code>Features</code> were applied to certain tests.</p>
</li>
<li>
<p>Refactoring around the realization that <code>VertexFeatures.supportsMetaProperties()</code> is really just a duplicate of
features already exposed as <code>VertexPropertyFeatures.supportsAddProperty()</code>.
<code>VertexPropertyFeatures.supportsAddProperty()</code> has been deprecated.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>These changes related to "Feature Consistency" open up a number of previously non-executing tests for graphs that did
not support meta-properties, so providers should be wary of potential test failure on previously non-executing tests.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-985">TINKERPOP-985</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-997">TINKERPOP-997</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-998">TINKERPOP-998</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_graph_processor_providers_2">Graph Processor Providers</h4>
<div class="sect4">
<h5 id="_inputrdd_and_outputrdd_updates">InputRDD and OutputRDD Updates</h5>
<div class="paragraph">
<p>There are two new methods on the Spark-Gremlin RDD interfaces.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>InputRDD.readMemoryRDD()</code>: get a <code>ComputerResult.memory()</code> from an RDD.</p>
</li>
<li>
<p><code>OutputRDD.writeMemoryRDD()</code>: write a <code>ComputerResult.memory()</code> to an RDD.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that both these methods have default implementations which simply work with empty RDDs. Most providers will never
need to implement these methods as they are specific to file/RDD management for <code>GraphComputer</code>. The four classes that
implement these methods are <code>PersistedOutputRDD</code>, <code>PersistedInputRDD</code>, <code>InputFormatRDD</code>, and <code>OutputFormatRDD</code>. For the
interested provider, study the implementations therein to see the purpose of these two new methods.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tinkerpop_3_1_0_2">TinkerPop 3.1.0</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Release Date: November 16, 2015</strong></p>
</div>
<div class="paragraph">
<p>Please see the <a href="https://github.com/apache/incubator-tinkerpop/blob/3.1.0-incubating/CHANGELOG.asciidoc#tinkerpop-310-release-date-november-16-2015">changelog</a> for a complete list of all the modifications that are part of this release.</p>
</div>
<div class="paragraph">
<p>Additional upgrade information can be found here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_tinkerpop_3_0_2">TinkerPop 3.0.2</a></p>
</li>
<li>
<p><a href="#_tinkerpop_3_0_1">TinkerPop 3.0.1</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_upgrading_for_users_4">Upgrading for Users</h3>
<div class="sect3">
<h4 id="_shading_jackson">Shading Jackson</h4>
<div class="paragraph">
<p>The Jackson library is now shaded to <code>gremlin-shaded</code>, which will allow Jackson to version independently without
breaking compatibility with dependent libraries or with those who depend on TinkerPop.  The downside is that if a
library depends on TinkerPop and uses the Jackson classes, those classes will no longer exist with the standard
Jackson package naming.  They will have to shifted as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.objenesis</code> becomes <code>org.apache.tinkerpop.shaded.objenesis</code></p>
</li>
<li>
<p><code>com.esotericsoftware.minlog</code> becomes <code>org.apache.tinkerpop.shaded.minlog</code></p>
</li>
<li>
<p><code>com.fasterxml.jackson</code> becomes <code>org.apache.tinkerpop.shaded.jackson</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-835">TINKERPOP-835</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_partitionstrategy_and_vertexproperty">PartitionStrategy and VertexProperty</h4>
<div class="paragraph">
<p><code>PartitionStrategy</code> now supports partitioning within <code>VertexProperty</code>.  The <code>Graph</code> needs to be able to support
meta-properties for this feature to work.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-333">TINKERPOP-333</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_gremlin_server_and_epoll">Gremlin Server and Epoll</h4>
<div class="paragraph">
<p>Gremlin Server provides a configuration option to turn on support for Netty
<a href="http://netty.io/wiki/native-transports.html">native transport</a> on Linux, which has been shown to help improve
performance.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-901">TINKERPOP-901</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_rebindings_deprecated">Rebindings Deprecated</h4>
<div class="paragraph">
<p>The notion of "rebindings" has been deprecated in favor of the term "aliases".  Alias is a better and more intuitive
term than rebindings which should make it easier for newcomers to understand what they are for.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-913">TINKERPOP-913</a>,
<a href="http://tinkerpop.apache.org/docs/3.1.0-incubating/#_aliases">Reference Documentation - Aliases</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_configurable_driver_channelizer">Configurable Driver Channelizer</h4>
<div class="paragraph">
<p>The Gremlin Driver now allows the <code>Channerlizer</code> to be supplied as a configuration, which means that custom
implementations may be supplied.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-680">TINKERPOP-680</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_graphson_and_strict_option">GraphSON and Strict Option</h4>
<div class="paragraph">
<p>The <code>GraphMLReader</code> now has a <code>strict</code> option on the <code>Builder</code> so that if a data type for a value is invalid in some
way, GraphMLReader will simply skip that problem value. In that way, it is a bit more forgiving than before especially
with empty data.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-756">TINKERPOP-756</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_transaction_close_default_behavior">Transaction.close() Default Behavior</h4>
<div class="paragraph">
<p>The default behavior of <code>Transaction.close()</code> is to rollback the transaction.  This is in contrast to previous versions
where the default behavior was commit.  Using rollback as the default should be thought of as a like a safer approach
to closing where a user must now explicitly call <code>commit()</code> to persist their mutations.</p>
</div>
<div class="paragraph">
<p>See <a href="https://issues.apache.org/jira/browse/TINKERPOP-805">TINKERPOP-805</a> for more information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_threadlocal_transaction_settings">ThreadLocal Transaction Settings</h4>
<div class="paragraph">
<p>The <code>Transaction.onReadWrite()</code> and <code>Transaction.onClose()</code> settings now need to be set for each thread (if another
behavior than the default is desired). For gremlin-server users that may be changing these settings via scripts.
If the settings are changed for a sessionless request they will now only apply to that one request. If the settings are
changed for an in-session request they will now only apply to all future requests made in the scope of that session.</p>
</div>
<div class="paragraph">
<p>See <a href="https://issues.apache.org/jira/browse/TINKERPOP-885">TINKERPOP-885</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_hadoop_gremlin">Hadoop-Gremlin</h4>
<div class="ulist">
<ul>
<li>
<p>Hadoop1 is no longer supported. Hadoop2 is now the only supported Hadoop version in TinkerPop.</p>
</li>
<li>
<p>Spark and Giraph have been split out of Hadoop-Gremlin into their own respective packages (Spark-Gremlin and Giraph-Gremlin).</p>
</li>
<li>
<p>The directory where application jars are stored in HDFS is now <code>hadoop-gremlin-3.2.0-incubating-libs</code>.</p>
<div class="ulist">
<ul>
<li>
<p>This versioning is important so that cross-version TinkerPop use does not cause jar conflicts.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>See link:https://issues.apache.org/jira/browse/TINKERPOP-616</p>
</div>
</div>
<div class="sect3">
<h4 id="_spark_gremlin">Spark-Gremlin</h4>
<div class="ulist">
<ul>
<li>
<p>Providers that wish to reuse a graphRDD can leverage the new <code>PersistedInputRDD</code> and <code>PersistedOutputRDD</code>.</p>
<div class="ulist">
<ul>
<li>
<p>This allows the graphRDD to avoid serialization into HDFS for reuse. Be sure to enabled persisted <code>SparkContext</code> (see documentation).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>See link:https://issues.apache.org/jira/browse/TINKERPOP-868,
link:https://issues.apache.org/jira/browse/TINKERPOP-925</p>
</div>
</div>
<div class="sect3">
<h4 id="_tinkergraph_serialization">TinkerGraph Serialization</h4>
<div class="paragraph">
<p>TinkerGraph is serializable over Gryo, which means that it can shipped over the wire from Gremlin Server.  This
feature can be useful when working with remote subgraphs.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-728">TINKERPOP-728</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_deprecation_in_tinkergraph">Deprecation in TinkerGraph</h4>
<div class="paragraph">
<p>The <code>public static String</code> configurations have been renamed. The old <code>public static</code> variables have been deprecated.
If the deprecated variables were being used, then convert to the replacements as soon as possible.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-926">TINKERPOP-926</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_deprecation_in_gremlin_groovy">Deprecation in Gremlin-Groovy</h4>
<div class="paragraph">
<p>The closure wrappers classes <code>GFunction</code>, <code>GSupplier</code>, <code>GConsumer</code> have been deprecated. In Groovy, a closure can be
specified using <code>as Function</code> and thus, these wrappers are not needed. Also, the <code>GremlinExecutor.promoteBindings()</code>
method which was previously deprecated has been removed.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-879">TINKERPOP-879</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-897">TINKERPOP-897</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_gephi_traversal_visualization">Gephi Traversal Visualization</h4>
<div class="paragraph">
<p>The process for visualizing a traversal has been simplified.  There is no longer a need to "name" steps that will
represent visualization points for Gephi.  It is possible to just "configure" a <code>visualTraversal</code> in the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="text language-text">gremlin&gt; :remote config visualTraversal graph vg</code></pre>
</div>
</div>
<div class="paragraph">
<p>which creates a special <code>TraversalSource</code> from <code>graph</code> called <code>vg</code>.  The traversals created from <code>vg</code> can be used
to <code>:submit</code> to Gephi.</p>
</div>
<div class="paragraph">
<p>See: <a href="http://tinkerpop.apache.org/docs/3.1.0-SNAPSHOT/#gephi-plugin">Reference Documentation - Gephi</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_alterations_to_graphtraversal">Alterations to GraphTraversal</h4>
<div class="paragraph">
<p>There were a number of changes to <code>GraphTraversal</code>.  Many of the changes came by way of deprecation, but some semantics
have changed as well:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ConjunctionStrategy</code> has been renamed to <code>ConnectiveStrategy</code> (no other behaviors changed).</p>
</li>
<li>
<p><code>ConjunctionP</code> has been renamed to <code>ConnectiveP</code> (no other behaviors changed).</p>
</li>
<li>
<p><code>DedupBijectionStrategy</code> has been renamed (and made more effective) as <code>FilterRankingStrategy</code>.</p>
</li>
<li>
<p>The <code>GraphTraversal</code> mutation API has change significantly with all previous methods being supported but deprecated.</p>
<div class="ulist">
<ul>
<li>
<p>The general pattern used now is <code>addE('knows').from(select('a')).to(select('b')).property('weight',1.0)</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The <code>GraphTraversal</code> sack API has changed with all previous methods being supported but deprecated.</p>
<div class="ulist">
<ul>
<li>
<p>The old <code>sack(mult,'weight')</code> is now <code>sack(mult).by('weight')</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>GroupStep</code> has been redesigned such that there is now only a key- and value-traversal. No more reduce-traversal.</p>
<div class="ulist">
<ul>
<li>
<p>The previous <code>group()</code>-methods have been renamed to <code>groupV3d0()</code>. To immediately upgrade, rename all your <code>group()</code>-calls to <code>groupV3d0()</code>.</p>
</li>
<li>
<p>To migrate to the new <code>group()</code>-methods, what was <code>group().by('age').by(outE()).by(sum(local))</code> is now <code>group().by('age').by(outE().sum())</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>There was a bug in <code>fold()</code>, where if a bulked traverser was provided, the traverser was only represented once.</p>
<div class="ulist">
<ul>
<li>
<p>This bug fix might cause a breaking change to a user query if the non-bulk behavior was being counted on. If so, used <code>dedup()</code> prior to <code>fold()</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Both <code>GraphTraversal().mapKeys()</code> and <code>GraphTraversal.mapValues()</code> has been deprecated.</p>
<div class="ulist">
<ul>
<li>
<p>Use <code>select(keys)</code> and <code>select(columns)</code>. However, note that <code>select()</code> will not unroll the keys/values. Thus, <code>mapKeys()</code> &#8658; <code>select(keys).unfold()</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The data type of <code>Operator</code> enums will now always be the highest common data type of the two given numbers, rather than the data type of the first number, as it&#8217;s been before.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_aliasing_remotes_in_the_console">Aliasing Remotes in the Console</h4>
<div class="paragraph">
<p>The <code>:remote</code> command in Gremlin Console has a new <code>alias</code> configuration option.  This <code>alias</code> option allows
specification of a set of key/value alias/binding pairs to apply to the remote.  In this way, it becomes possible
to refer to a variable on the server as something other than what it is referred to for purpose of the submitted
script.  For example once a <code>:remote</code> is created, this command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="text language-text">:remote alias x g</code></pre>
</div>
</div>
<div class="paragraph">
<p>would allow "g" on the server to be referred to as "x".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="text language-text">:&gt; x.E().label().groupCount()</code></pre>
</div>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-914">TINKERPOP-914</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_upgrading_for_providers_4">Upgrading for Providers</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
It is recommended that providers also review all the upgrade instructions specified for users. Many of the
changes there may prove important for the provider&#8217;s implementation.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>All providers should be aware that Jackson is now shaded to <code>gremlin-shaded</code> and could represent breaking change if
there was usage of the dependency by way of TinkerPop, a direct dependency to Jackson may be required on the
provider&#8217;s side.</p>
</div>
<div class="sect3">
<h4 id="_graph_system_providers_4">Graph System Providers</h4>
<div class="sect4">
<h5 id="_graphstep_alterations">GraphStep Alterations</h5>
<div class="ulist">
<ul>
<li>
<p><code>GraphStep</code> is no longer in <code>sideEffect</code>-package, but now in <code>map</code>-package as traversals support mid-traversal <code>V()</code>.</p>
</li>
<li>
<p>Traversals now support mid-traversal <code>V()</code>-steps. Graph system providers should ensure that a mid-traversal <code>V()</code> can leverage any suitable index.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See link:https://issues.apache.org/jira/browse/TINKERPOP-762</p>
</div>
</div>
<div class="sect4">
<h5 id="_decomposition_of_abstracttransaction">Decomposition of AbstractTransaction</h5>
<div class="paragraph">
<p>The <code>AbstractTransaction</code> class has been abstracted into two different classes supporting two different modes of
operation: <code>AbstractThreadLocalTransaction</code> and <code>AbstractThreadedTransaction</code>, where the former should be used when
supporting <code>ThreadLocal</code> transactions and the latter for threaded transactions.  Of course, providers may still
choose to build their own implementation on <code>AbstractTransaction</code> itself or simply implement the <code>Transaction</code>
interface.</p>
</div>
<div class="paragraph">
<p>The <code>AbstractTransaction</code> gains the following methods to potentially implement (though default implementations
are supplied in <code>AbstractThreadLocalTransaction</code> and <code>AbstractThreadedTransaction</code>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>doReadWrite</code> that should execute the read-write consumer.</p>
</li>
<li>
<p><code>doClose</code> that should execute the close consumer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-765">TINKERPOP-765</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-885">TINKERPOP-885</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_transaction_close_default_behavior_2">Transaction.close() Default Behavior</h5>
<div class="paragraph">
<p>The default behavior for <code>Transaction.close()</code> is to rollback the transaction and is enforced by tests, which
previously asserted the opposite (i.e. commit on close).  These tests have been renamed to suite the new semantics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>shouldCommitOnCloseByDefault</code> became <code>shouldCommitOnCloseWhenConfigured</code></p>
</li>
<li>
<p><code>shouldRollbackOnCloseWhenConfigured</code> became <code>shouldRollbackOnCloseByDefault</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If these tests were referenced in an <code>OptOut</code>, then their names should be updated.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-805">TINKERPOP-805</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_graph_traversal_updates">Graph Traversal Updates</h5>
<div class="paragraph">
<p>There were numerous changes to the <code>GraphTraversal</code> API. Nearly all changes are backwards compatible with respective
"deprecated" annotations. Please review the respective updates specified in the "Graph System Users" section.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>GraphStep</code> is no longer in <code>sideEffect</code> package. Now in <code>map</code> package.</p>
</li>
<li>
<p>Make sure mid-traversal <code>GraphStep</code> calls are folding <code>HasContainers</code> in for index-lookups.</p>
</li>
<li>
<p>Think about copying <code>TinkerGraphStepStrategyTest</code> for your implementation so you know folding is happening correctly.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_element_removal">Element Removal</h5>
<div class="paragraph">
<p><code>Element.Exceptions.elementAlreadyRemoved</code> has been deprecated and test enforcement for consistency have been removed.
 Providers are free to deal with deleted elements as they see fit.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-297">TINKERPOP-297</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_vendoroptimizationstrategy_rename">VendorOptimizationStrategy Rename</h5>
<div class="paragraph">
<p>The <code>VendorOptimizationStrategy</code> has been renamed to <code>ProviderOptimizationStrategy</code>.  This renaming is consistent
with revised terminology for what were formerly referred to as "vendors".</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-876">TINKERPOP-876</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_graphcomputer_updates">GraphComputer Updates</h5>
<div class="paragraph">
<p><code>GraphComputer.configure(String key, Object value)</code> is now a method (with default implementation).
This allows the user to specify engine-specific parameters to the underlying OLAP system. These parameters are not intended
to be cross engine supported. Moreover, if there are not parameters that can be altered (beyond the standard <code>GraphComputer</code>
methods), then the provider&#8217;s <code>GraphComputer</code> implementation should simply return and do nothing.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_driver_providers_2">Driver Providers</h4>
<div class="sect4">
<h5 id="_aliases_parameter">Aliases Parameter</h5>
<div class="paragraph">
<p>The "rebindings" argument to the "standard" <code>OpProcessor</code> has been renamed to "aliases". While "rebindings" is still
supported it is recommended that the upgrade to "aliases" be made as soon as possible as support will be removed in
the future.  Gremlin Server will not accept both parameters at the same time - a request must contain either one
parameter or the other if either is supplied.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-913">TINKERPOP-913</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_threadlocal_transaction_settings_2">ThreadLocal Transaction Settings</h5>
<div class="paragraph">
<p>If a driver configures the <code>Transaction.onReadWrite()</code> or <code>Transaction.onClose()</code> settings, note that these settings no
longer apply to all future requests. If the settings are changed for a sessionless request they will only apply to
that one request. If the settings are changed from an in-session request they will only apply to all future requests
made in the scope of that session.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-885">TINKERPOP-885</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<h1 id="_tinkerpop_3_0_0" class="sect0">TinkerPop 3.0.0</h1>
<div class="imageblock">
<div class="content">
<img src="https://raw.githubusercontent.com/apache/incubator-tinkerpop/master/docs/static/images/gremlin-hindu.png" alt="gremlin hindu" width="225">
</div>
</div>
<div class="paragraph">
<p><strong>A Gremlin Rāga in 7/16 Time</strong></p>
</div>
<div class="sect1">
<h2 id="_tinkerpop_3_0_2">TinkerPop 3.0.2</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Release Date: October 19, 2015</strong></p>
</div>
<div class="paragraph">
<p>Please see the <a href="https://github.com/apache/incubator-tinkerpop/blob/3.0.2-incubating/CHANGELOG.asciidoc#tinkerpop-302-release-date-october-19-2015">changelog</a> for a complete list of all the modifications that are part of this release.</p>
</div>
<div class="sect2">
<h3 id="_upgrading_for_users_5">Upgrading for Users</h3>
<div class="sect3">
<h4 id="_bulkloadervertexprogram_blvp">BulkLoaderVertexProgram (BLVP)</h4>
<div class="paragraph">
<p><code>BulkLoaderVertexProgram</code> now supports arbitrary inputs (i addition to <code>HadoopGraph</code>, which was already supported in
version 3.0.1-incubating). It can now also read from any TP3 enabled graph, like <code>TinkerGraph</code>
or <code>Neo4jGraph</code>.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-814">TINKERPOP-319</a>,
<a href="http://tinkerpop.apache.org/docs/3.0.2-incubating/#bulkloadervertexprogram">Reference Documentation - BLVP</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_tinkergraph">TinkerGraph</h4>
<div class="paragraph">
<p>TinkerGraph can now be configured to support persistence, where TinkerGraph will try to load a graph from a specified
location and calls to <code>close()</code> will save the graph data to that location.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-828">TINKERPOP-828</a>,
<a href="http://tinkerpop.apache.org/docs/3.0.2-incubating/#_configuration">Reference Documentation - TinkerGraph</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_gremlin_driver_and_server">Gremlin Driver and Server</h4>
<div class="paragraph">
<p>There were a number of fixes to <code>gremlin-driver</code> that prevent protocol desynchronization when talking to Gremlin
Server.</p>
</div>
<div class="paragraph">
<p>On the Gremlin Server side, Websocket sub-protocol introduces a new "close" operation to explicitly close sessions.
Prior to this change, sessions were closed in a more passive fashion (i.e. session timeout).  There were also so
bug fixes around the protocol as it pertained to third-party drivers (e.g. python) using JSON for authentication.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-814">TINKERPOP-814</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-816">TINKERPOP-816</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-817">TINKERPOP-817</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-855">TINKERPOP-855</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-870">TINKERPOP-870</a>,
<a href="https://issues.apache.org/jira/browse/TINKERPOP-877">TINKERPOP-877</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_upgrading_for_providers_5">Upgrading for Providers</h3>
<div class="sect3">
<h4 id="_graph_driver_providers">Graph Driver Providers</h4>
<div class="sect4">
<h5 id="_gremlin_server_close_operation">Gremlin Server close Operation</h5>
<div class="paragraph">
<p>It is important to note that this feature of the sub-protocol applies to the <code>SessionOpProcessor</code> (i.e. for
session-based requests).  Prior to this change, there was no way to explicitly close a session.  Sessions would get
closed by the server after timeout of activity.  This new "op" gives drivers the ability to close the session
explicitly and as needed.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-849">TINKERPOP-849</a>,
<a href="http://tinkerpop.apache.org/docs/3.0.2-incubating/#_opprocessors_arguments">Reference Documentation - OpProcessor</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tinkerpop_3_0_1">TinkerPop 3.0.1</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Release Date: September 2, 2015</strong></p>
</div>
<div class="paragraph">
<p>Please see the <a href="https://github.com/apache/incubator-tinkerpop/blob/3.0.1-incubating/CHANGELOG.asciidoc#tinkerpop-301-release-date-september-2-2015">changelog</a> for a complete list of all the modifications that are part of this release.</p>
</div>
<div class="sect2">
<h3 id="_upgrading_for_users_6">Upgrading for Users</h3>
<div class="sect3">
<h4 id="_gremlin_server">Gremlin Server</h4>
<div class="paragraph">
<p>Gremlin Server now supports a <a href="https://en.wikipedia.org/wiki/Simple_Authentication_and_Security_Layer">SASL-based</a>
(Simple Authentication and Security Layer) authentication model and a default <code>SimpleAuthenticator</code> which implements
the <code>PLAIN</code> SASL mechanism (i.e. plain text) to authenticate requests.  This gives Gremlin Server some basic security
capabilities, especially when combined with its built-in SSL feature.</p>
</div>
<div class="paragraph">
<p>There have also been changes in how global variable bindings in Gremlin Server are established via initialization
scripts.  The initialization scripts now allow for a <code>Map</code> of values that can be returned from those scripts.
That <code>Map</code> will be used to set global bindings for the server. See this
<a href="https://github.com/apache/incubator-tinkerpop/blob/3.0.1-incubating/gremlin-server/scripts/generate-modern.groovy">sample script</a>
for an example.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-576">TINKERPOP-576</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_neo4j">Neo4j</h4>
<div class="paragraph">
<p>Problems related to using <code>:install</code> to get the Neo4j plugin operating in Gremlin Console on Windows have been
resolved.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-804">TINKERPOP-804</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_upgrading_for_providers_6">Upgrading for Providers</h3>
<div class="sect3">
<h4 id="_graph_system_providers_5">Graph System Providers</h4>
<div class="sect4">
<h5 id="_graphfactoryclass_annotation">GraphFactoryClass Annotation</h5>
<div class="paragraph">
<p>Providers can consider the use of the new <code>GraphFactoryClass</code> annotation to specify the factory class that <code>GraphFactory</code> will use to open a new <code>Graph</code> instance. This is an optional feature and will generally help implementations that have an interface extending <code>Graph</code>.  If that is the case, then this annotation can be used in the following fashion:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="java language-java"><span class="annotation">@GraphFactory</span>(MyGraphFactory.class)
<span class="directive">public</span> <span class="type">interface</span> <span class="class">MyGraph</span> <span class="directive">extends</span> Graph{
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>MyGraphFactory</code> must contain the static <code>open</code> method that is normally expected by <code>GraphFactory</code>.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-778">TINKERPOP-778</a></p>
</div>
</div>
<div class="sect4">
<h5 id="_graphprovider_descriptor_annotation">GraphProvider.Descriptor Annotation</h5>
<div class="paragraph">
<p>There was a change that affected providers who implemented <code>GraphComputer</code> related tests such as the <code>ProcessComputerSuite</code>.  If the provider runs those tests, then edit the <code>GraphProvider</code> implementation for those suites to include the <code>GraphProvider.Descriptor</code> annotation as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="java language-java"><span class="annotation">@GraphProvider</span>.Descriptor(computer = GiraphGraphComputer.class)
<span class="directive">public</span> <span class="directive">final</span> <span class="type">class</span> <span class="class">HadoopGiraphGraphProvider</span> <span class="directive">extends</span> HadoopGraphProvider {

    <span class="directive">public</span> GraphTraversalSource traversal(<span class="directive">final</span> Graph graph) {
        <span class="keyword">return</span> GraphTraversalSource.build().engine(ComputerTraversalEngine.build().computer(GiraphGraphComputer.class)).create(graph);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-690">TINKERPOP-690</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_semantics_of_transaction_close">Semantics of Transaction.close()</h5>
<div class="paragraph">
<p>There were some adjustments to the test suite with respect to how <code>Transaction.close()</code> was being validated.  For most providers, this will generally mean checking <code>OptOut</code> annotations for test renaming problems.  The error that occurs when running the test suite should make it apparent that a test name is incorrect in an <code>OptOut</code> if there are issues there.</p>
</div>
<div class="paragraph">
<p>See: <a href="https://issues.apache.org/jira/browse/TINKERPOP-764">TINKERPOP-764</a> for more information.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_graph_driver_providers_2">Graph Driver Providers</h4>
<div class="sect4">
<h5 id="_authentication">Authentication</h5>
<div class="paragraph">
<p>Gremlin Server now supports SASL-based authentication.  By default, Gremlin Server is not configured with
authentication turned on and authentication is not required, so existing drivers should still work without any
additional change.  Drivers should however consider implementing this feature as it is likely that many users will
want the security capabilities that it provides.</p>
</div>
<div class="paragraph">
<p>See: <a href="http://tinkerpop.apache.org/docs/3.0.1-incubating/#_authentication">Reference Documentation - Gremlin Server Authentication</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2016-04-08 14:16:25 -04:00
</div>
</div>
</body>
</html>
